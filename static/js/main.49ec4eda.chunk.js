(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a(27)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),u=a(12),i=a.n(u),o=(a(18),a(6)),l=a(1),c=a(10),s=a(2),d=function(e,t){return e-t};function f(e,t,a){var r=e.data[t],n=r.possible;if(!n.includes(a))return e;var u=Object(l.a)(e.data);return u[t]=Object(s.a)({},r,{possible:n.filter((function(e){return e!==a}))}),Object(s.a)({},e,{data:u,insoluble:!1})}function p(e,t,a){var r=e.data,n=e.groups,u=e.solved,i=r[t],o=i,c=o.actual,d=o.groups,f=o.possible;if(c===a||!f.includes(a))return e;if(c)return p(g(e,t),t,a);r=Object(l.a)(r),n=Object(l.a)(n),u=[].concat(Object(l.a)(u),[t]),i=Object(s.a)({},i,{actual:a}),r[t]=i;for(var b=0;b<n.length;b++){var m=n[b],v=m.data,h=m.id,j=m.missing;if(d.includes(h)){for(var O=function(e){var n=v[e];if(n===t)return"continue";var o=r[n],c=o.actual,d=o.possible;if(c===a){if(i.duplicates.includes(n)||(i.duplicates=[].concat(Object(l.a)(i.duplicates),[n]),1===i.duplicates.length&&(u=u.filter((function(e){return e!==t})))),!o.duplicates.includes(t)){var f=[].concat(Object(l.a)(o.duplicates),[t]);r[n]=Object(s.a)({},o,{duplicates:f}),1===f.length&&(u=u.filter((function(e){return e!==n})))}}else d.includes(a)&&(r[n]=Object(s.a)({},o,{possible:d.filter((function(e){return e!==a}))}))},E=0;E<v.length;E++)O(E);n[b]=Object(s.a)({},m,{missing:j.filter((function(e){return e!==a}))})}}return Object(s.a)({},e,{data:r,groups:n,solved:u,insoluble:!1})}function g(e,t){var a=e.data,r=e.groups,n=e.solved,u=a[t],i=u.actual,o=u.groups;if(!i)return e;a=Object(l.a)(a),r=Object(l.a)(r),n=n.filter((function(e){return e!==t})),a[t]=Object(s.a)({},u,{actual:void 0,duplicates:[]});for(var c=0;c<r.length;c++)if(o.includes(c)){for(var f=r[c],p=f.data,g=f.missing,b=0;b<p.length;b++){var m=p[b];if(m!==t){var v=a[m];if(v.actual===i&&v.duplicates.includes(t)){var h=v.duplicates.filter((function(e){return e!==t}));a[m]=Object(s.a)({},v,{duplicates:h}),0===h.length&&n.push(m)}}}r[c]=Object(s.a)({},f,{missing:[].concat(Object(l.a)(g),[i]).sort(d)})}return Object(s.a)({},e,{data:a,groups:r,solved:n,insoluble:!1})}var b=[function(e){for(var t=e.data,a=0;a<t.length;a++){var r=t[a],n=r.actual,u=r.duplicates,i=r.possible;if(u.length>0||0===i.length||n&&!i.includes(n))return Object(s.a)({},e,{insoluble:!0})}return e},function(e){for(var t=e.data,a=e.groups,r=e,n=0;n<t.length;n++)for(var u=t[n],i=u.actual,o=u.id,l=u.possible,c=u.groups,s=0;s<l.length;s++){var d=l[s];if(d!==i)for(var p=0;p<c.length;p++){a[c[p]].missing.includes(d)||(r=f(r,o,d))}}return r},function(e){for(var t=e.data,a=0;a<t.length;a++){var r=t[a],n=r.actual,u=r.possible;if(!n&&1===u.length)return p(e,a,u[0])}return e},function(e){for(var t=e.data,a=0;a<e.groups.length;a++)for(var r=e.groups[a],n=r.data,u=r.missing,i=n.map((function(e){return t[e]})).filter((function(e){return!e.actual})),o=function(t){var a=u[t],r=i.filter((function(e){return e.possible.includes(a)}));if(1===r.length)return{v:p(e,r[0].id,a)}},l=0;l<u.length;l++){var c=o(l);if("object"===typeof c)return c.v}return e},function(e){for(var t=e.data,a=e.groups,r=e,n=0;n<a.length;n++){for(var u={},i=a[n].data.map((function(e){return t[e]})).filter((function(e){return!e.actual})),o=0;o<i.length;o++){var l=i[o],c=l.id,d=l.possible.join();u[d]?u[d].push(c):u[d]=[c]}for(var p in u){var g=p.split(",").map((function(e){return+e})),b=u[p];if(g.length===b.length){for(var m=0;m<i.length;m++){var v=i[m],h=v.id,j=v.possible;if(!b.includes(h))for(var O=0;O<j.length;O++){var E=j[O];g.includes(E)&&(r=f(r,h,E))}}if(r!==e)return r}else if(g.length<b.length)return Object(s.a)({},e,{insoluble:!0})}}return e},function(e){for(var t=e.data,a=e,r=0;r<e.groups.length;r++){var n=e.groups[r],u=n.data,i=n.missing;if(!(i.length<5))for(var o=u.map((function(e){return t[e]})).filter((function(e){return!e.actual})),c=2;c<i.length-3;c++){for(var s=[],d=0;d<c;d++){var p=s;s=[];for(var g=0;g<p.length;g++)for(var b=p[g],m=0;m<i.length;m++){var v=i[m];b.includes(v)||s.push([].concat(Object(l.a)(b),[v]))}}for(var h=function(t){for(var r=s[t],n=[],u=!1,i=0;i<o.length;i++){var l=o[i],c=l.possible.filter((function(e){return r.includes(e)})).length;c===r.length?n.push(l):c>0&&(u=!0)}if(!u&&n.length===r.length)for(var d=0;d<n.length;d++)for(var p=n[d],g=p.id,b=p.possible,m=0;m<b.length;m++){var v=b[m];r.includes(v)||(a=f(a,g,v))}if(a!==e)return{v:a}},j=0;j<s.length;j++){var O=h(j);if("object"===typeof O)return O.v}}}return e},function(e){for(var t=e.data,a=e.intersections,r=e.groups,n=e,u=0;u<a.length;u++)for(var i=a[u],o=i.data,l=i.groups,c=0;c<l.length;c++)for(var s=r[l[c]],d=s.data,p=s.missing,g=0;g<p.length;g++){for(var b=p[g],m=!1,v=0;v<d.length;v++)if(!o.includes(d[v])){var h=t[d[v]],j=h.actual,O=h.possible;if(!j&&O.includes(b)){m=!0;break}}if(!m){for(var E=0;E<l.length;E++)if(E!==c)for(var k=r[l[E]].data,N=0;N<k.length;N++){var C=k[N];if(!o.includes(C)){var A=t[C],w=A.actual,y=A.possible;!w&&y.includes(b)&&(n=f(n,C,b))}}if(n!==e)return n}}return e}],m=[function(e,t){switch(t.type){case"RemovePossible":return f(e,t.datum,t.possible);case"AddPossible":return function(e,t,a){var r=e.data[t],n=r.possible;if(n.includes(a))return e;var u=Object(l.a)(e.data);return u[t]=Object(s.a)({},r,{possible:[].concat(Object(l.a)(n),[a]).sort(d)}),Object(s.a)({},e,{data:u,insoluble:!1})}(e,t.datum,t.possible);case"SetActual":return p(e,t.datum,t.actual);case"ClearActual":return g(e,t.datum);default:return e}},function(e,t){switch(t.type){case"Solve":var a=e.data,r=e.insoluble,n=e.solved;if(r)return e;if(n.length===a.length)return e;for(var u=0;u<b.length;u++){var i=b[u](e);if(i!==e)return i}return Object(s.a)({},e,{insoluble:!0});default:return e}}],v=function(e,t){switch(t.type){case"SetGrid":return{grid:t.grid,past:[],future:[],reset:e};case"Undo":if(e.reset)return e.reset;if(e.past.length>0){var a=Object(c.a)(e.past);return{grid:a[0],past:a.slice(1),future:[e.grid].concat(Object(l.a)(e.future))}}return e;case"Redo":if(e.future.length>0){var r=Object(c.a)(e.future),n=r[0],u=r.slice(1);return{grid:n,past:[e.grid].concat(Object(l.a)(e.past)),future:u}}return e;default:for(var i=0;i<m.length;i++){var o=m[i](e.grid,t);if(o!==e.grid)return{grid:o,past:[e.grid].concat(Object(l.a)(e.past)),future:[]}}return e}},h=[1,2,3,4,5,6,7,8,9],j=(a(19),n.a.memo((function(e){var t=e.group.missing;return n.a.createElement("td",{className:"ColumnCell",rowSpan:3},h.map((function(e){return n.a.createElement("span",{key:e,className:t.includes(e)?void 0:"ColumnCellHidden"},e)})))}))),O=(a(20),["","NumberTop NumberLeft","NumberTop NumberCenter","NumberTop NumberRight","NumberMiddle NumberLeft","NumberMiddle NumberCenter","NumberMiddle NumberRight","NumberBottom NumberLeft","NumberBottom NumberCenter","NumberBottom NumberRight"]),E=function(e){var t=e.id,a=e.actual,r=e.possible,u=e.duplicates,i=e.dispatch,o=e.value,l="Number ".concat(O[o]),c=function(e){},s=function(e){e.stopPropagation(),e.preventDefault()};return a===o?(l+=" Actual",u&&u.length>0&&(l+=" Duplicate"),t&&i&&(s=function(e){e.preventDefault(),i({type:"ClearActual",datum:t})})):a?l+=" Unactual":r&&r.includes(o)?(l+=" Possible",t&&i&&(c=function(){i({type:"RemovePossible",datum:t,possible:o})},s=function(e){e.preventDefault(),i({type:"SetActual",datum:t,actual:o})})):(l+=" Impossible",t&&i&&(c=function(){i({type:"AddPossible",datum:t,possible:o})})),n.a.createElement("span",{className:l,onClick:c,onContextMenu:s},o)},k=(a(21),["","ActualTop ActualLeft","ActualTop ActualCenter","ActualTop ActualRight","ActualMiddle ActualLeft","ActualMiddle ActualCenter","ActualMiddle ActualRight","ActualBottom ActualLeft","ActualBottom ActualCenter","ActualBottom ActualRight"]),N=n.a.memo((function(e){var t=e.datum,a=e.dispatch,r=e.className,u="Cell ".concat(r);return t.actual&&(u+=" "+k[t.actual]),0===t.possible.length&&(u+=" Impossible"),n.a.createElement("td",{className:u},h.map((function(e){return n.a.createElement(E,Object.assign({key:e,value:e,dispatch:a},t))})))})),C=(a(22),n.a.memo((function(e){var t=e.group.missing;return n.a.createElement("td",{className:"RowCell",colSpan:3},h.map((function(e){return n.a.createElement("span",{key:e,className:t.includes(e)?void 0:"RowCellHidden"},e)})))}))),A=a(3),w=function e(t){Object(A.a)(this,e),this.id=void 0,this.possible=Object(l.a)(h),this.actual=void 0,this.groups=[],this.duplicates=[],this.id=t},y=function e(t,a){Object(A.a)(this,e),this.groups=void 0,this.data=void 0,this.groups=t,this.data=a},R=function e(t,a){Object(A.a)(this,e),this.data=void 0,this.groups=void 0,this.intersections=void 0,this.solved=[],this.insoluble=!1;for(var r=[],n=function(e){for(var t=a[e].data,n=e+1;n<a.length;n++){var u=a[n].data.filter((function(e){return t.includes(e)}));u.length>1&&r.push(new y([e,n],u))}},u=0;u<a.length;u++)n(u);this.data=t,this.groups=a,this.intersections=r},S=function e(t){Object(A.a)(this,e),this.id=void 0,this.data=[],this.missing=Object(l.a)(h),this.id=t};function G(){for(var e=[],t=[],a=0;a<81;a++)e[a]=new w(a);for(var r=0;r<9;r++){for(var n=r,u=t[r]=new S(n),i=9*r;i<9*(r+1);i++)e[i].groups.push(n),u.data.push(i);for(var o=r+9,l=t[o]=new S(o),c=r;c<81;c+=9)e[c].groups.push(o),l.data.push(c);for(var s=r+18,d=t[s]=new S(s),f=0;f<9;f++){var p=r%3*3+27*Math.floor(r/3)+f%3+9*Math.floor(f/3);e[p].groups.push(s),d.data.push(p)}}return new R(e,t)}var B=function(e){for(var t=G(),a=0,r=0;r<e.length;r++)switch(e[r]){case".":a++;break;case"1":t=p(t,a++,1);break;case"2":t=p(t,a++,2);break;case"3":t=p(t,a++,3);break;case"4":t=p(t,a++,4);break;case"5":t=p(t,a++,5);break;case"6":t=p(t,a++,6);break;case"7":t=p(t,a++,7);break;case"8":t=p(t,a++,8);break;case"9":t=p(t,a++,9)}return t},M=(a(23),function(e){var t=e.grid,a=t.data,u=t.solved,i=t.insoluble,l=e.canUndo,c=e.canRedo,s=e.dispatch,d=Object(r.useState)(""),f=Object(o.a)(d,2),p=f[0],g=f[1],b=Object(r.useState)(!1),m=Object(o.a)(b,2),v=m[0],h=m[1],j=Math.floor(u.length/a.length*100),O=!i&&j<100,E=v||!O,k=Object(r.useCallback)((function(){return s({type:"Undo"})}),[s]),N=Object(r.useCallback)((function(){return s({type:"Redo"})}),[s]),C=Object(r.useCallback)((function(){return s({type:"Solve"})}),[s]),A=Object(r.useCallback)((function(){return s({type:"SetGrid",grid:G()})}),[s]),w=Object(r.useCallback)((function(){return s({type:"SetGrid",grid:B(p)})}),[p,s]);return Object(r.useEffect)((function(){if(v){if(O){var e=window.setInterval(C,250);return function(){window.clearInterval(e)}}h(!1)}}),[O,v,h,C]),n.a.createElement("div",{className:"Toolbar"},n.a.createElement("span",{className:"Solved"},j,"% Solved"),i&&n.a.createElement("span",{className:"Insoluble"},"Insoluble"),n.a.createElement("button",{onClick:k,disabled:!l},"Undo"),n.a.createElement("button",{onClick:N,disabled:!c},"Redo"),n.a.createElement("button",{onClick:C,disabled:E},"Step"),n.a.createElement("button",{onClick:function(){return h(!0)},disabled:E},"Run"),n.a.createElement("button",{onClick:function(){return h(!1)},disabled:!v},"Stop"),n.a.createElement("button",{onClick:A,disabled:v},"Clear"),n.a.createElement("input",{value:p,onChange:function(e){return g(e.target.value)}}),n.a.createElement("button",{onClick:w,disabled:v},"Import"))}),T=(a(24),a(25),n.a.memo((function(e){var t=e.group.missing;return n.a.createElement("td",{className:"BoxCell"},h.map((function(e){return n.a.createElement(E,{key:e,value:e,possible:t})})))}))),L=[0,1,2,3,4,5,6,7,8],I=["GridLeft","","GroupRight","GroupLeft","","GroupRight","GroupLeft","","GridRight"],P=["GridTop","","GroupBottom","GroupTop","","GroupBottom","GroupTop","","GridBottom"],U=n.a.memo((function(e){var t=e.grid,a=e.dispatch;return n.a.createElement("table",{className:"Table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:9},n.a.createElement(M,e)))),n.a.createElement("tbody",null,L.map((function(e){return n.a.createElement("tr",{key:e},L.map((function(r){return n.a.createElement(N,{key:r,className:"".concat(P[e]," ").concat(I[r]),datum:t.data[9*e+r],dispatch:a})})),n.a.createElement(C,{group:t.groups[e]}))})),n.a.createElement("tr",null,L.map((function(e){return n.a.createElement(j,{key:e,group:t.groups[e+9]})})),n.a.createElement(T,{group:t.groups[18]}),n.a.createElement(T,{group:t.groups[19]}),n.a.createElement(T,{group:t.groups[20]})),n.a.createElement("tr",null,n.a.createElement(T,{group:t.groups[21]}),n.a.createElement(T,{group:t.groups[22]}),n.a.createElement(T,{group:t.groups[23]})),n.a.createElement("tr",null,n.a.createElement(T,{group:t.groups[24]}),n.a.createElement(T,{group:t.groups[25]}),n.a.createElement(T,{group:t.groups[26]}))))}));a(26);var D=function(){var e=Object(r.useReducer)(v,void 0,(function(){return{grid:G(),past:[],future:[]}})),t=Object(o.a)(e,2),a=t[0],u=a.grid,i=a.past,l=a.future,c=a.reset,s=t[1];return n.a.createElement("div",{className:"App"},n.a.createElement(U,{grid:u,canUndo:i.length>0||!!c,canRedo:l.length>0,dispatch:s}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.49ec4eda.chunk.js.map